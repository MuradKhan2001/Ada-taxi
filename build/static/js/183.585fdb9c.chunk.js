"use strict";(self.webpackChunkclient_buyukyol=self.webpackChunkclient_buyukyol||[]).push([[183],{8444:(e,s,a)=>{a.r(s),a.d(s,{default:()=>K,webSockedContext:()=>Z});var i=a(2555),l=a(5043),c=a(3216),n=a(4117),t=a(579);const d=()=>{const{t:e}=(0,n.Bd)();return(0,t.jsx)("div",{className:"not-found-wrapper",children:(0,t.jsx)("div",{className:"sloy",children:(0,t.jsxs)("div",{className:"text1",children:[(0,t.jsx)("div",{className:"error",children:"error 404"}),(0,t.jsx)("div",{className:"text",children:e("page-not-found")})]})})})};var r=a(2457),o=a(4978),m=a(9456),h=a(6863),x=a(9722);const v=()=>{const e=(0,m.d4)((e=>e.baseUrl.data)),s=(0,c.Zp)(),{t:a}=(0,n.Bd)(),i=(0,m.wA)(),[d,v]=(0,l.useState)({}),g=[{code:"uz",name:"O'zbek tili",country_code:"uz"},{code:"en",name:"English language",country_code:"en"},{code:"ru",name:"P\u0443\u0441\u0441\u043a\u0438\u0439 \u044f\u0437\u044b\u043a",country_code:"ru"}],j=e=>{i((0,h.Ui)({show:!0,status:e}))};return(0,l.useEffect)((()=>{localStorage.getItem("token")&&x.A.get("".concat(e,"/api/v1/client/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{v(e.data)})).catch((e=>{401==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("userId"),j("log-in"))}))}),[]),(0,t.jsxs)("div",{className:"header-wrapper",children:[(0,t.jsx)("img",{onClick:()=>s("/"),className:"logo",src:"./images/logo.webp",alt:"ada-taxi-logo",loading:"lazy"}),(0,t.jsxs)("div",{className:"center-box",children:[(0,t.jsx)("b",{onClick:()=>{j("orders"),s("/")},children:a("my_orders")}),(0,t.jsx)("b",{onClick:()=>j("about-app"),children:a("app_links")}),(0,t.jsx)("b",{onClick:()=>j("download-app"),children:a("download_app")})]}),(0,t.jsxs)("div",{className:"header-buttons",children:[(0,t.jsx)("div",{className:"language-btn",children:(0,t.jsxs)(r.A,{children:[(0,t.jsxs)(r.A.Toggle,{variant:"success",id:"dropdown-basic",children:[(0,t.jsx)("img",{className:"globe",src:"./images/globe-alt.webp",alt:"language",loading:"lazy"}),(0,t.jsx)("div",{className:"name",children:g.map(((e,s)=>(0,t.jsx)("div",{children:o.Ay.language===e.code?e.name:""},s)))})]}),(0,t.jsx)(r.A.Menu,{children:g.map((e=>{let{code:s,name:a,country_code:i}=e;return(0,t.jsx)(r.A.Item,{onClick:()=>(e=>{localStorage.setItem("lng",e),o.Ay.changeLanguage(e)})(s),children:a},i)}))})]})}),!localStorage.getItem("token")&&(0,t.jsxs)("div",{onClick:()=>j("log-in"),className:"sign-in-btn",children:[(0,t.jsx)("img",{src:"./images/logout.webp",alt:"sign-in",loading:"lazy"}),a("login")]}),localStorage.getItem("token")&&(0,t.jsx)("div",{className:"profile-client",children:(0,t.jsxs)(r.A,{children:[(0,t.jsxs)(r.A.Toggle,{variant:"success",id:"dropdown-basic",children:[(0,t.jsx)("div",{className:"image-person",children:(0,t.jsx)("img",{src:d.profile_image||"./images/user.webp",alt:"photo",loading:"lazy"})}),(0,t.jsxs)("div",{className:"info-person",children:[(0,t.jsxs)("div",{className:"name",children:[d.first_name,"\u2002",d.last_name]}),(0,t.jsx)("div",{className:"phone",children:d.phone})]})]}),(0,t.jsxs)(r.A.Menu,{children:[(0,t.jsxs)(r.A.Item,{onClick:()=>s("/profile"),children:[(0,t.jsx)("img",{src:"./images/setting.webp",alt:"settings",loading:"lazy"}),a("settings")]}),(0,t.jsxs)(r.A.Item,{onClick:()=>j("about-app"),children:[(0,t.jsx)("img",{src:"./images/information.webp",alt:"settings",loading:"lazy"}),a("app_links")]}),(0,t.jsxs)(r.A.Item,{onClick:()=>j("log-out"),children:[(0,t.jsx)("img",{src:"./images/log-out.webp",alt:"settings",loading:"lazy"}),a("logOut")]})]})]})})]})]})};var g=a(9942);var j=a(7627),p=a(2699),u=a(8041),N=a(8923),f=a(5009),b=a(9489),_=a(9130),y=a(2230),w=a(8685);const k=a.p+"static/media/success.fe95e484c435a6154d9c.wav",A=a.p+"static/media/success2.57fe6abc78a419553ee3.wav",S=()=>{const{t:e}=(0,n.Bd)(),s=(0,m.d4)((e=>e.baseUrl.data)),a=(0,m.d4)((e=>e.OrderPage.data)),i=(0,m.d4)((e=>e.ActiveOrders.data)),[d,r]=(0,l.useState)(0),v=((0,c.Zp)(),(0,m.wA)()),g=(0,m.d4)((e=>e.PickUpLocations.data)),j=(0,m.d4)((e=>e.DropOffLocations.data)),S=(0,m.d4)((e=>e.PaymentType.data)),z=(0,m.d4)((e=>e.AddClient.data)),[C,I]=(0,l.useState)(1),[F,T]=(0,l.useState)(0),[E,D]=(0,l.useState)(!0),[B,U]=(0,l.useState)(""),L=[{id:"regional",name:e("direction1")},{id:"postal",name:e("direction2")},{id:"minivan",name:e("direction3")},{id:"travel",name:e("direction4")}],[G,O]=(0,l.useState)("regional"),[P,R]=(0,l.useState)([]),[M,q]=(0,l.useState)(""),[H,Z]=(0,l.useState)(""),[K,X]=(0,l.useState)([]),[J,V]=(0,l.useState)([]),[$,Y]=(0,l.useState)(!1),[Q,W]=(0,l.useState)(""),[ee,se]=(0,l.useState)(""),[ae,ie]=(0,l.useState)(""),[le,ce]=(0,l.useState)(""),[ne,te]=(0,l.useState)("sender");(0,l.useEffect)((()=>{localStorage.getItem("token")&&x.A.get("".concat(s,"/api/v1/extra-services/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{X(e.data)})),xe(),de()}),[]),(0,l.useEffect)((()=>{ge()}),[g,j,J,$,C,G]),(0,l.useEffect)((()=>{const e=setInterval((()=>{U((e=>e.length<3?e+".":""))}),500);return()=>clearInterval(e)}),[]);const de=()=>{localStorage.getItem("token")&&x.A.get("".concat(s,"/api/v1/client-active-orders/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{v((0,_.r$)(e.data[0])),e.data.length>0&&(e.data[0].driver?"started"===e.data[0].status?(v((0,y.BG)(5)),e.data[0].rated&&D(!1)):v((0,y.BG)(4)):(v((0,y.BG)(3)),je()))}))},re=(e,s)=>{v((0,h.Ui)({show:!0,status:e,id:s}))},oe=e=>{if("from"===e&&g.length<10){let e={address:"",latitude:null,longitude:null,number:g.length+1};v((0,u.uc)(e))}if("to"===e&&j.length<10){let e={address:"",latitude:null,longitude:null,number:j.length+1};v((0,N.Zg)(e))}},me=(e,s)=>{"from"===e&&v((0,u.qN)(s)),"to"===e&&v((0,N.p3)(s))},he=e=>{J.includes(e)?V(J.filter((s=>s!==e))):V([...J,e])},xe=()=>{let e={service:G,from_region:{latitude:41.309484,longitude:69.25133},to_region:{latitude:40.76486,longitude:72.309999},passanger_count:C,book_all_seats:$,extra_services:J};x.A.get("https://api.adataxi.uz/api/v1/get-prices/",e).then((e=>{R(e.data)}))},ve=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";v((0,b.xi)({show:!0,location_num:e,location_status:s}))},ge=()=>{let e={service:G,from_region:null!==g[0].latitude?g[0]:{},to_region:null!==j[0].latitude?j[0]:{},passanger_count:C,book_all_seats:$,extra_services:J};null!==g[0].latitude===(null!==j[0].latitude)&&x.A.post("https://api.adataxi.uz/api/v1/get-prices/",e).then((e=>{R(e.data)}))},je=()=>{const e=100/180,s=setInterval((()=>{r((s=>s+e>=100?0:s+e))}),1e3);return()=>clearInterval(s)},pe=()=>{let a={order:i.id,rate:F};E&&x.A.post("".concat(s,"/api/v1/order-review/"),a,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((s=>{let a=Date.now(),i={id:a,text:e("driver_rate"),img:"./images/green.svg",color:"#EDFFFA"};v((0,w.Iw)(i)),setTimeout((()=>{v((0,w.ae)(a))}),5e3),new Audio(k).play()}))};return(0,t.jsxs)("div",{className:"order-wrapper",children:[0===a&&(0,t.jsxs)("div",{className:"order-box",children:[(0,t.jsx)("div",{className:"location-box",children:(0,t.jsxs)("div",{className:"bg-location",children:[g.map(((s,a)=>(0,t.jsxs)("div",{className:"location-from",children:[(0,t.jsx)("div",{className:"circle-warpper",children:(0,t.jsx)("div",{className:"circle"})}),(0,t.jsxs)("div",{className:"location-text",children:[(0,t.jsx)("div",{className:"location-name",children:s.address?s.address:(0,t.jsx)("div",{className:"placeholder-address",children:e("pick_up")})}),(0,t.jsx)("div",{onClick:()=>ve(a,"pick_up"),className:"loc-icon",children:(0,t.jsx)("img",{src:"./images/add-pin.png",alt:"add",loading:"lazy"})}),g.length<10&&0===a&&(0,t.jsx)("div",{onClick:()=>oe("from"),className:"add-icon",children:(0,t.jsx)("img",{src:"./images/plus.webp",alt:"add",loading:"lazy"})}),a>0&&(0,t.jsx)("div",{className:"del-icon",children:(0,t.jsx)("img",{onClick:()=>me("from",s.number),src:"./images/trash.webp",alt:"add",loading:"lazy"})})]})]},a))),j.map(((s,a)=>(0,t.jsxs)("div",{className:"location-to",children:[(0,t.jsx)("div",{className:"circle-warpper",children:(0,t.jsx)("div",{className:"circle"})}),(0,t.jsxs)("div",{className:"location-text",children:[(0,t.jsx)("div",{className:"location-name",children:s.address?s.address:(0,t.jsx)("div",{className:"placeholder-address",children:e("drop")})}),(0,t.jsx)("div",{onClick:()=>ve(a,"drop_off"),className:"loc-icon",children:(0,t.jsx)("img",{src:"./images/add-pin.png",alt:"add",loading:"lazy"})}),j.length<10&&0===a&&(0,t.jsx)("div",{onClick:()=>oe("to"),className:"add-icon",children:(0,t.jsx)("img",{src:"./images/plus.webp",alt:"add",loading:"lazy"})}),a>0&&(0,t.jsx)("div",{className:"del-icon",children:(0,t.jsx)("img",{onClick:()=>me("to",s.number),src:"./images/trash.webp",alt:"add",loading:"lazy"})})]})]},a)))]})}),(0,t.jsx)("div",{className:"tarif-box",children:L.map(((e,s)=>(0,t.jsx)("div",{onClick:()=>O(e.id),className:"tarif ".concat(e.id===G&&"active"),children:e.name},s)))}),(0,t.jsx)("div",{className:"tarif-price",children:P.map(((s,a)=>(0,t.jsx)("div",{onClick:()=>q(s.category&&s.category.id),children:(0,t.jsxs)("div",{className:"tarif-card ".concat(s.category&&s.category.id===M&&"active"),children:[(0,t.jsx)("img",{src:s.category&&s.category.icon,alt:"car",loading:"lazy"}),(0,t.jsx)("div",{className:"name",children:s.category&&s.category.translations[o.Ay.language].name}),(0,t.jsxs)("div",{className:"price",children:[s.cost," ",e("sum")]})]})},a)))}),(0,t.jsx)("div",{className:"funtion",children:(0,t.jsxs)("div",{className:"left",children:[(0,t.jsx)("img",{src:"./images/sms2.webp",alt:"sms",loading:"lazy"}),(0,t.jsx)("input",{onChange:e=>Z(e.target.value),value:H,placeholder:e("comment_driver"),type:"text"})]})}),(0,t.jsxs)("div",{onClick:()=>re("payment-type"),className:"payment",children:[(0,t.jsxs)("div",{className:"left",children:[(0,t.jsx)("img",{src:"./images/payment.webp",alt:"sms",loading:"lazy"}),e("payment_type")]}),(0,t.jsxs)("div",{className:"right",children:["cash"===S.payment_type?e("cash"):e("card"),(0,t.jsx)("img",{src:"./images/more.webp",alt:"more",loading:"lazy"})]})]}),"postal"!==G&&z.name&&z.phone?(0,t.jsxs)("div",{className:"other",children:[(0,t.jsxs)("div",{className:"left",children:[(0,t.jsx)("img",{src:"./images/user-1.webp",alt:"sms",loading:"lazy"}),(0,t.jsxs)("div",{className:"info",children:[(0,t.jsx)("div",{className:"name",children:z.name}),(0,t.jsx)("div",{className:"phone",children:z.phone})]})]}),(0,t.jsx)("div",{className:"right",children:(0,t.jsx)("img",{onClick:()=>{v((0,f.L)({name:"",phone:""}))},src:"./images/trash.webp",alt:"more",loading:"lazy"})})]}):"postal"!==G&&(0,t.jsxs)("div",{onClick:()=>re("add-other"),className:"funtion",children:[(0,t.jsxs)("div",{className:"left",children:[(0,t.jsx)("img",{src:"./images/user-1.webp",alt:"sms",loading:"lazy"}),e("other_order")]}),(0,t.jsx)("img",{src:"./images/more.webp",alt:"more",loading:"lazy"})]}),(0,t.jsxs)("div",{className:"services",children:["postal"!==G&&K.map(((s,a)=>{const i=J.includes(s.id);if(s.is_main)return(0,t.jsxs)("div",{className:"service",children:[(0,t.jsx)("div",{className:"left",children:(0,t.jsxs)("div",{className:"text",children:[(0,t.jsx)("div",{className:"name",children:s.translations[o.Ay.language].name}),(0,t.jsxs)("div",{className:"price-service",children:["To\u2018lov ",s.price," ",e("sum")]})]})}),(0,t.jsx)("div",{className:"on-of ".concat(i?"active-icon":""),onClick:()=>he(s.id),children:(0,t.jsx)("div",{className:"on-icon ".concat(i?"active":"")})})]},a)})),"postal"!==G&&(0,t.jsxs)("div",{onClick:()=>v((0,y.BG)(1)),className:"service cursor",children:[(0,t.jsxs)("div",{className:"left",children:[(0,t.jsx)("img",{src:"./images/filter.webp",alt:"sms",loading:"lazy"}),e("plus_service")]}),(0,t.jsx)("img",{src:"./images/more.webp",alt:"more",loading:"lazy"})]})]})]}),0===a&&(0,t.jsx)("div",{onClick:()=>{if(null!==g[0].latitude&&null!==j[0].latitude&&M)v("postal"!==G?(0,y.BG)(6):(0,y.BG)(7));else{let s=Date.now(),a={id:s,text:e("tariff_location"),img:"./images/red.svg",color:"#FFEDF1"};v((0,w.Iw)(a)),setTimeout((()=>{v((0,w.ae)(s))}),5e3)}},className:"button-box",children:(0,t.jsx)("div",{className:"button",children:e("next")})}),1===a&&(0,t.jsxs)("div",{className:"services-box",children:[(0,t.jsxs)("div",{className:"header",children:[(0,t.jsx)("img",{onClick:()=>v((0,y.BG)(0)),src:"./images/prev.png",alt:"prev",loading:"lazy"}),(0,t.jsx)("div",{className:"title",children:e("plus_service")})]}),K.map(((s,a)=>{const i=J.includes(s.id);if(!s.is_main)return(0,t.jsxs)("div",{className:"service",children:[(0,t.jsx)("div",{className:"left",children:(0,t.jsxs)("div",{className:"text",children:[(0,t.jsx)("div",{className:"name",children:s.translations[o.Ay.language].name}),(0,t.jsxs)("div",{className:"price-service",children:[e("payment")," ",s.price," ",e("sum")]})]})}),(0,t.jsx)("div",{className:"on-of ".concat(i?"active-icon":""),onClick:()=>he(s.id),children:(0,t.jsx)("div",{className:"on-icon ".concat(i?"active":"")})})]},a)}))]}),3===a&&(0,t.jsxs)("div",{className:"search-driver",children:[(0,t.jsxs)("div",{className:"header",children:[(0,t.jsx)("div",{className:"title",children:e("search_driver")}),(0,t.jsx)("span",{children:B})]}),(0,t.jsx)("div",{className:"loading",children:(0,t.jsx)("div",{className:"loader",style:{width:"".concat(d,"%")}})}),(0,t.jsxs)("div",{className:"location-box",children:[(0,t.jsxs)("div",{className:"location-from",children:[(0,t.jsx)("div",{className:"circle-warpper",children:(0,t.jsx)("div",{className:"circle"})}),(0,t.jsx)("div",{className:"location-text",children:i.pick_up_locations&&i.pick_up_locations.map(((e,s)=>(0,t.jsx)("span",{children:e.address},s)))})]}),(0,t.jsx)("div",{className:"line"}),(0,t.jsxs)("div",{className:"location-to",children:[(0,t.jsx)("div",{className:"circle-warpper",children:(0,t.jsx)("div",{className:"circle"})}),(0,t.jsx)("div",{className:"location-text",children:i.drop_off_locations&&i.drop_off_locations.map(((e,s)=>(0,t.jsx)("span",{children:e.address},s)))})]})]}),(0,t.jsxs)("div",{className:"info-box",children:[(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("direction")}),(0,t.jsx)("div",{className:"val",children:i.car_service&&i.car_service.translations[o.Ay.language].name})]}),(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("tarif")}),(0,t.jsx)("div",{className:"val",children:i.car_category&&i.car_category.translations[o.Ay.language].name})]}),(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("payment_type")}),(0,t.jsx)("div",{className:"val",children:"cash"===i.payment_type?e("cash"):e("card")})]}),(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("order_id")}),(0,t.jsx)("div",{className:"val",children:i.id})]}),(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("date_time")}),(0,t.jsx)("div",{className:"val",children:i.pick_up_date})]})]}),(0,t.jsxs)("div",{className:"price-order",children:[(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("passangers_count")}),(0,t.jsx)("div",{className:"val",children:i.passanger_count})]}),(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("price")}),(0,t.jsxs)("div",{className:"val-price",children:[i.price," ",e("sum")]})]})]}),(0,t.jsx)("div",{className:"buttons",children:(0,t.jsxs)("div",{onClick:()=>re("cancel-order",i.id),className:"cancel-btn",children:[(0,t.jsx)("img",{src:"./images/x.webp",alt:"cancel",loading:"lazy"}),e("cancel_order")]})})]}),4===a&&(0,t.jsxs)("div",{className:"get-driver",children:[(0,t.jsxs)("div",{className:"header-content",children:[(0,t.jsxs)("div",{className:"car-info",children:[(0,t.jsxs)("div",{className:"name-car",children:[i.driver.car_color.translations[o.Ay.language].name,"\u2002",i.driver.car_make.translations[o.Ay.language].name,"\u2002",i.driver.car_model.translations[o.Ay.language].name]}),(0,t.jsxs)("div",{className:"car-number",children:[(0,t.jsx)("div",{className:"num",children:i.driver.car_number.slice(0,2)}),(0,t.jsx)("div",{className:"line"}),(0,t.jsx)("div",{className:"num",children:i.driver.car_number.slice(2)})]})]}),(0,t.jsx)("div",{className:"car-img",children:(0,t.jsx)("img",{src:i.car_category.icon,alt:"car",loading:"lazy"})})]}),(0,t.jsxs)("div",{className:"driver-info",children:[(0,t.jsx)("div",{className:"person-img",children:(0,t.jsx)("img",{src:i.driver.profile_image,alt:""})}),(0,t.jsxs)("div",{className:"info",children:[(0,t.jsxs)("div",{className:"name",children:[i.driver.first_name,"\u2002",i.driver.last_name]}),(0,t.jsxs)("div",{className:"information",children:[(0,t.jsxs)("div",{className:"rate",children:[(0,t.jsx)("div",{className:"label",children:e("rate")}),(0,t.jsxs)("div",{className:"info",children:[(0,t.jsx)("img",{src:"./images/star.webp",alt:"star",loading:"lazy"}),i.driver.rate]})]}),(0,t.jsx)("div",{className:"line"}),(0,t.jsxs)("div",{className:"count",children:[(0,t.jsx)("div",{className:"label",children:e("orders_finishet")}),(0,t.jsx)("div",{className:"info",children:i.driver.finished_orders_count})]})]})]})]}),(0,t.jsx)("div",{className:"button-call",children:(0,t.jsxs)("div",{className:"call-driver",children:[(0,t.jsx)("img",{src:"./images/phone.png",alt:"phone",loading:"lazy"}),(0,t.jsxs)("a",{href:"tel:".concat(i.driver.phone),children:[" ",i.driver.phone]})]})}),(0,t.jsxs)("div",{className:"location-box",children:[(0,t.jsx)("div",{className:"location-from",children:(0,t.jsx)("div",{className:"location-text",children:i.pick_up_locations.map(((e,s)=>(0,t.jsxs)("div",{className:"location-from",children:[(0,t.jsx)("div",{className:"circle-warpper",children:(0,t.jsx)("div",{className:"circle"})}),(0,t.jsx)("div",{className:"location-text",children:e.address})]},s)))})}),(0,t.jsx)("div",{className:"line"}),(0,t.jsx)("div",{className:"location-to",children:(0,t.jsx)("div",{className:"location-text",children:i.drop_off_locations.map(((e,s)=>(0,t.jsxs)("div",{className:"location-to",children:[(0,t.jsx)("div",{className:"circle-warpper",children:(0,t.jsx)("div",{className:"circle"})}),(0,t.jsx)("div",{className:"location-text",children:e.address})]},s)))})})]}),(0,t.jsxs)("div",{className:"info-box",children:[(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("direction")}),(0,t.jsx)("div",{className:"val",children:i.car_service&&i.car_service.translations[o.Ay.language].name})]}),(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("tarif")}),(0,t.jsx)("div",{className:"val",children:i.car_category&&i.car_category.translations[o.Ay.language].name})]}),(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("payment_type")}),(0,t.jsx)("div",{className:"val",children:i.payment_type})]}),(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("order_id")}),(0,t.jsx)("div",{className:"val",children:i.id})]}),(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("date_time")}),(0,t.jsx)("div",{className:"val",children:i.pick_up_date})]})]}),(0,t.jsxs)("div",{className:"price-order",children:[(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("passangers_count")}),(0,t.jsxs)("div",{className:"val",children:[i.passanger_count," kishi"]})]}),(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("price")}),(0,t.jsxs)("div",{className:"val-price",children:[i.price," ",e("sum")]})]})]}),(0,t.jsx)("div",{className:"buttons",children:(0,t.jsxs)("div",{onClick:()=>re("cancel-order",i.id),className:"cancel-btn",children:[(0,t.jsx)("img",{src:"./images/x.webp",alt:"cancel",loading:"lazy"}),e("cancel_order")]})})]}),5===a&&(0,t.jsxs)("div",{className:"rate-driver",children:[(0,t.jsxs)("div",{className:"header-content",children:[(0,t.jsxs)("div",{className:"car-info",children:[(0,t.jsxs)("div",{className:"name-car",children:[i.driver.car_color.translations[o.Ay.language].name,"\u2002",i.driver.car_make.translations[o.Ay.language].name,"\u2002",i.driver.car_model.translations[o.Ay.language].name]}),(0,t.jsxs)("div",{className:"car-number",children:[(0,t.jsx)("div",{className:"num",children:i.driver.car_number.slice(0,2)}),(0,t.jsx)("div",{className:"line"}),(0,t.jsx)("div",{className:"num",children:i.driver.car_number.slice(2)})]})]}),(0,t.jsx)("div",{className:"car-img",children:(0,t.jsx)("img",{src:i.car_category.icon,alt:"car",loading:"lazy"})})]}),(0,t.jsxs)("div",{className:"driver-info",children:[(0,t.jsx)("div",{className:"person-img",children:(0,t.jsx)("img",{src:i.driver.profile_image,alt:""})}),(0,t.jsxs)("div",{className:"info",children:[(0,t.jsxs)("div",{className:"name",children:[i.driver.first_name,"\u2002",i.driver.last_name]}),(0,t.jsxs)("div",{className:"information",children:[(0,t.jsxs)("div",{className:"rate",children:[(0,t.jsx)("div",{className:"label",children:e("rate")}),(0,t.jsxs)("div",{className:"info",children:[(0,t.jsx)("img",{src:"./images/star.webp",alt:"star",loading:"lazy"}),i.driver.rate]})]}),(0,t.jsx)("div",{className:"line"}),(0,t.jsxs)("div",{className:"count",children:[(0,t.jsx)("div",{className:"label",children:e("orders_finishet")}),(0,t.jsx)("div",{className:"info",children:i.driver.finished_orders_count})]})]})]})]}),E&&(0,t.jsx)("div",{className:"rate-stars",children:(0,t.jsx)(p.A,{count:5,onChange:e=>{T(e),pe()},value:F,size:35,color2:"rgba(250, 190, 25, 1)",half:!1})}),(0,t.jsxs)("div",{className:"location-box",children:[(0,t.jsx)("div",{className:"location-from",children:(0,t.jsx)("div",{className:"location-text",children:i.pick_up_locations.map(((e,s)=>(0,t.jsxs)("div",{className:"location-from",children:[(0,t.jsx)("div",{className:"circle-warpper",children:(0,t.jsx)("div",{className:"circle"})}),(0,t.jsx)("div",{className:"location-text",children:e.address})]},s)))})}),(0,t.jsx)("div",{className:"line"}),(0,t.jsx)("div",{className:"location-to",children:(0,t.jsx)("div",{className:"location-text",children:i.drop_off_locations.map(((e,s)=>(0,t.jsxs)("div",{className:"location-to",children:[(0,t.jsx)("div",{className:"circle-warpper",children:(0,t.jsx)("div",{className:"circle"})}),(0,t.jsx)("div",{className:"location-text",children:e.address})]},s)))})})]}),(0,t.jsxs)("div",{className:"info-box",children:[(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("direction")}),(0,t.jsx)("div",{className:"val",children:i.car_service&&i.car_service.translations[o.Ay.language].name})]}),(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("tarif")}),(0,t.jsx)("div",{className:"val",children:i.car_category&&i.car_category.translations[o.Ay.language].name})]}),(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("payment_type")}),(0,t.jsx)("div",{className:"val",children:"cash"===i.payment_type?e("cash"):e("card")})]}),(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("order_id")}),(0,t.jsx)("div",{className:"val",children:i.id})]}),(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("date_time")}),(0,t.jsx)("div",{className:"val",children:i.pick_up_date})]})]}),(0,t.jsxs)("div",{className:"price-order",children:[(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("passangers_count")}),(0,t.jsxs)("div",{className:"val",children:[i.passanger_count," kishi"]})]}),(0,t.jsxs)("div",{className:"information",children:[(0,t.jsx)("div",{className:"label",children:e("price")}),(0,t.jsxs)("div",{className:"val-price",children:[i.price," ",e("sum")]})]})]})]}),6===a&&(0,t.jsxs)("div",{className:"info-box",children:[(0,t.jsxs)("div",{className:"header",children:[(0,t.jsx)("img",{onClick:()=>v((0,y.BG)(0)),src:"./images/prev.png",alt:"prev",loading:"lazy"}),(0,t.jsx)("div",{className:"title",children:e("plus_info")})]}),(0,t.jsxs)("div",{className:"form-date",children:[(0,t.jsx)("div",{className:"label",children:e("date")}),(0,t.jsx)("div",{className:"input-time",children:(0,t.jsx)("input",{value:Q,onChange:e=>W(e.target.value),type:"date"})})]}),(0,t.jsxs)("div",{className:"form-date",children:[(0,t.jsx)("div",{className:"label",children:e("time")}),(0,t.jsx)("div",{className:"input-time",children:(0,t.jsx)("input",{value:ee,onChange:e=>se(e.target.value),type:"time"})})]}),(0,t.jsxs)("div",{className:"client-count",children:[(0,t.jsx)("div",{className:"title",children:e("passangers_count")}),(0,t.jsxs)("div",{className:"counter",children:[(0,t.jsx)("div",{className:"label",children:e("passangers_count")}),(0,t.jsxs)("div",{className:"count",children:[(0,t.jsx)("div",{onClick:()=>{C>0&&I((e=>e-1))},className:"button",children:(0,t.jsx)("img",{src:"./images/minus-sm.png",alt:"count"})}),(0,t.jsx)("span",{children:C}),(0,t.jsx)("div",{onClick:()=>{C<12&&I((e=>e+1))},className:"button",children:(0,t.jsx)("img",{src:"./images/plus-sm.png",alt:"count"})})]})]}),(0,t.jsx)("div",{className:"line"}),(0,t.jsxs)("div",{className:"service",children:[(0,t.jsx)("div",{className:"left",children:(0,t.jsx)("div",{className:"text",children:(0,t.jsx)("div",{className:"name",children:e("all_seats")})})}),(0,t.jsx)("div",{onClick:()=>Y((e=>!e)),className:"on-of ".concat($?"active-icon":""),children:(0,t.jsx)("div",{className:"on-icon ".concat($?"active":"")})})]})]}),(0,t.jsxs)("div",{className:"form-date",children:[(0,t.jsx)("div",{className:"label",children:e("price")}),(0,t.jsx)("div",{className:"input-time",children:P.map(((s,a)=>{if(M===s.category.id)return(0,t.jsxs)("span",{children:[s.cost," ",e("sum")]},a)}))})]})]}),7===a&&(0,t.jsxs)("div",{className:"info-box-postal",children:[(0,t.jsxs)("div",{className:"header",children:[(0,t.jsx)("img",{onClick:()=>v((0,y.BG)(0)),src:"./images/prev.png",alt:"prev",loading:"lazy"}),(0,t.jsx)("div",{className:"title",children:e("plus_info")})]}),(0,t.jsxs)("div",{className:"info-postal",children:[(0,t.jsx)("div",{className:"title",children:e("sender")}),(0,t.jsxs)("div",{className:"person-info",children:[(0,t.jsx)("div",{className:"left-icon-person",children:(0,t.jsx)("img",{src:"./images/person.webp",alt:"person"})}),(0,t.jsxs)("div",{className:"right-info",children:[(0,t.jsx)("div",{className:"title",children:e("sender_location")}),(0,t.jsx)("div",{className:"bottom-info",children:g[0].address})]})]}),(0,t.jsxs)("div",{className:"person-info",children:[(0,t.jsx)("div",{className:"left-icon-phone",children:(0,t.jsx)("img",{src:"./images/phone-person.png",alt:"person"})}),(0,t.jsxs)("div",{className:"right-info",children:[(0,t.jsx)("div",{className:"title",children:e("phone")}),(0,t.jsx)("div",{className:"bottom-info",children:(0,t.jsx)("input",{value:ae,onChange:e=>ie(e.target.value),placeholder:e("phone_form"),type:"number"})})]})]})]}),(0,t.jsxs)("div",{className:"info-postal",children:[(0,t.jsx)("div",{className:"title",children:e("postal")}),(0,t.jsxs)("div",{className:"person-info",children:[(0,t.jsx)("div",{className:"left-icon-postal",children:(0,t.jsx)("img",{src:"./images/package_2_fill.webp",alt:"person"})}),(0,t.jsxs)("div",{className:"right-info",children:[(0,t.jsx)("div",{className:"title",children:e("postal_location")}),(0,t.jsx)("div",{className:"bottom-info",children:j[0].address})]})]}),(0,t.jsxs)("div",{className:"person-info",children:[(0,t.jsx)("div",{className:"left-icon-phone",children:(0,t.jsx)("img",{src:"./images/phone-person.png",alt:"person"})}),(0,t.jsxs)("div",{className:"right-info",children:[(0,t.jsx)("div",{className:"title",children:e("phone")}),(0,t.jsx)("div",{className:"bottom-info",children:(0,t.jsx)("input",{value:le,onChange:e=>ce(e.target.value),placeholder:e("phone_form"),type:"number"})})]})]})]}),(0,t.jsxs)("div",{className:"order-info",children:[(0,t.jsx)("div",{className:"title",children:e("about_order")}),(0,t.jsxs)("div",{className:"payment-who",children:[(0,t.jsx)("div",{className:"title",children:e("payment_who")}),(0,t.jsxs)("div",{className:"on-of",children:[(0,t.jsx)("div",{onClick:()=>te("sender"),className:"of ".concat("sender"===ne?"on":""),children:e("person1")}),(0,t.jsx)("div",{onClick:()=>te("receiver"),className:"of ".concat("receiver"===ne?"on":""),children:e("person2")})]})]}),(0,t.jsxs)("div",{className:"form-date",children:[(0,t.jsx)("div",{className:"label",children:e("date")}),(0,t.jsx)("div",{className:"input-time",children:(0,t.jsx)("input",{value:Q,onChange:e=>W(e.target.value),type:"date"})})]}),(0,t.jsxs)("div",{className:"form-date",children:[(0,t.jsx)("div",{className:"label",children:e("time")}),(0,t.jsx)("div",{className:"input-time",children:(0,t.jsx)("input",{value:ee,onChange:e=>se(e.target.value),type:"time"})})]})]})]}),(6===a||7===a)&&(0,t.jsx)("div",{onClick:()=>{let a={car_service:G,car_category:M,passanger_count:C,payment_type:S.payment_type,pick_up_date:"".concat(Q,"T").concat(ee,"Z"),end_date:null,book_all_seats:$,comment_to_driver:H,sender_phone:ae,receiver_phone:le,payer:ne,extra_services:J,pick_up_locations:g,drop_off_locations:j};if(Q&&ee)x.A.post("".concat(s,"/api/v1/order-create/"),a,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((s=>{v((0,_.r$)([s.data])),de();let a=Date.now(),i={id:a,text:e("confirm"),img:"./images/green.svg",color:"#EDFFFA"};v((0,w.Iw)(i)),setTimeout((()=>{v((0,w.ae)(a))}),5e3),v((0,u.yz)()),v((0,N.Sw)()),je(),new Audio(A).play()}));else{let s=Date.now(),a={id:s,text:e("confirm_form"),img:"./images/red.svg",color:"#FFEDF1"};v((0,w.Iw)(a)),setTimeout((()=>{v((0,w.ae)(s))}),5e3)}},className:"button-box",children:(0,t.jsx)("div",{className:"button",children:e("order")})})]})};var z=a(7621);const C=["places"],I=()=>{const{t:e}=(0,n.Bd)(),s=(0,m.d4)((e=>e.baseUrl.data)),a=(0,m.d4)((e=>e.DriverLocation.data)),[i,c]=(0,l.useState)("finished"),[d,r]=(0,l.useState)(!1),[p,u]=(0,l.useState)(),N=(0,m.wA)(),f=(0,m.d4)((e=>e.ModalContent.data)),b=(0,l.useRef)(null),[_,y]=(0,l.useState)([]),[w,k]=(0,l.useState)({});(0,l.useEffect)((()=>{navigator.geolocation.getCurrentPosition((e=>{const{latitude:s,longitude:a}=e.coords;u({lat:s,lng:a})})),x.A.get("".concat(s,"/api/v1/client-history/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{y(e.data)})).catch((e=>{401==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("userId"),F("log-in"))}))}),[]);const{isLoaded:A}=(0,g.RH)({googleMapsApiKey:"AIzaSyBEN2azIRg6YCHa-tV8yAEUJoHsn__fRBM",libraries:C,language:o.Ay.language}),I=(0,l.useMemo)((()=>({disableDefaultUI:!0,clickableIcons:!1})),[]),F=e=>{N((0,h.Ui)({show:!0,status:e}))};return A?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"dashboard-wrapper",children:[(0,t.jsx)(z.A,{in:f.show&&"orders"===f.status,nodeRef:b,timeout:300,classNames:"alert",unmountOnExit:!0,children:(0,t.jsx)("div",{className:"modal-sloy-orders ".concat(d?"disabled":""),children:(0,t.jsxs)("div",{ref:b,className:"modal-card",children:[(0,t.jsx)("div",{className:"header-buttons",children:(0,t.jsxs)("div",{className:"header",children:[(0,t.jsx)("h1",{className:"title",children:e("my_orders")}),(0,t.jsx)("div",{className:"cancel-btn",children:(0,t.jsx)("img",{onClick:()=>{N((0,h.AS)({show:!1}))},src:"./images/cancel.webp",alt:"cancel"})})]})}),(0,t.jsx)("div",{className:"orders-list",children:_.map(((s,a)=>(0,t.jsxs)("div",{className:"order",children:[(0,t.jsx)("div",{className:"date-order",children:s.created_at.split(" ")[0]}),(0,t.jsxs)("div",{onClick:()=>{r(!0),k(s)},className:"order-info",children:[s.pick_up_locations.map(((e,s)=>(0,t.jsxs)("div",{className:"location-from",children:[(0,t.jsx)("div",{className:"circle-warpper",children:(0,t.jsx)("div",{className:"circle"})}),(0,t.jsx)("div",{className:"location-text",children:e.address})]},s))),(0,t.jsx)("div",{className:"line"}),s.drop_off_locations.map(((e,s)=>(0,t.jsxs)("div",{className:"location-to",children:[(0,t.jsx)("div",{className:"circle-warpper",children:(0,t.jsx)("div",{className:"circle"})}),(0,t.jsx)("div",{className:"location-text",children:e.address})]},s))),(0,t.jsxs)("div",{className:"bottom-info",children:[(0,t.jsxs)("div",{className:"left-info",children:[(0,t.jsx)("div",{className:"text",children:s.created_at.split(" ")[1].slice(0,5)}),(0,t.jsx)("div",{className:"dot"}),(0,t.jsx)("div",{className:"text",children:s.car_category.translations[o.Ay.language].name})]}),(0,t.jsxs)("div",{className:"price",children:[s.price," ",e("sum")]})]})]})]},a)))})]})})}),(0,t.jsx)(z.A,{in:d,nodeRef:b,timeout:300,classNames:"alert",unmountOnExit:!0,children:(0,t.jsx)("div",{className:"modal-sloy-orders",children:(0,t.jsxs)("div",{ref:b,className:"modal-card-about-order",children:[(0,t.jsx)("div",{className:"header",children:(0,t.jsx)("div",{onClick:()=>r(!1),className:"cancel-btn",children:(0,t.jsx)("img",{src:"./images/cancel.webp",alt:"cancel"})})}),w.driver&&w.client&&w&&(0,t.jsxs)("div",{className:"content",children:[(0,t.jsxs)("div",{className:"header-content",children:[(0,t.jsxs)("div",{className:"car-info",children:[(0,t.jsxs)("div",{className:"name-car",children:[w.driver.car_color.translations[o.Ay.language].name,"\u2002",w.driver.car_model.translations[o.Ay.language].name]}),(0,t.jsxs)("div",{className:"car-number",children:[(0,t.jsx)("div",{className:"num",children:w.driver.car_number.slice(0,2)}),(0,t.jsx)("div",{className:"line"}),(0,t.jsx)("div",{className:"num",children:w.driver.car_number.slice(2)})]})]}),(0,t.jsx)("div",{className:"car-img",children:(0,t.jsx)("img",{src:s+w.car_category.icon,alt:"car",loading:"lazy"})})]}),(0,t.jsxs)("div",{className:"driver-info",children:[(0,t.jsx)("div",{className:"person-img",children:(0,t.jsx)("img",{src:s+w.driver.profile_image,alt:""})}),(0,t.jsxs)("div",{className:"info",children:[(0,t.jsxs)("div",{className:"name",children:[w.driver.first_name,"\u2002",w.driver.last_name]}),(0,t.jsxs)("div",{className:"information",children:[(0,t.jsxs)("div",{className:"rate",children:[(0,t.jsx)("div",{className:"label",children:e("rate")}),(0,t.jsxs)("div",{className:"info",children:[(0,t.jsx)("img",{src:"./images/star.webp",alt:"star",loading:"lazy"}),w.driver.rate]})]}),(0,t.jsx)("div",{className:"line"}),(0,t.jsxs)("div",{className:"count",children:[(0,t.jsx)("div",{className:"label",children:e("orders_finishet")}),(0,t.jsx)("div",{className:"info",children:w.driver.finished_orders_count})]})]})]})]}),(0,t.jsxs)("div",{className:"location-box",children:[w.pick_up_locations.map(((e,s)=>(0,t.jsxs)("div",{className:"location-from",children:[(0,t.jsx)("div",{className:"circle-warpper",children:(0,t.jsx)("div",{className:"circle"})}),(0,t.jsx)("div",{className:"location-text",children:e.address})]},s))),(0,t.jsx)("div",{className:"line"}),w.drop_off_locations.map(((e,s)=>(0,t.jsxs)("div",{className:"location-to",children:[(0,t.jsx)("div",{className:"circle-warpper",children:(0,t.jsx)("div",{className:"circle"})}),(0,t.jsx)("div",{className:"location-text",children:e.address})]},s)))]}),(0,t.jsxs)("div",{className:"information-box-order",children:[(0,t.jsxs)("div",{className:"list",children:[(0,t.jsx)("div",{className:"title",children:e("direction")}),(0,t.jsx)("div",{className:"value",children:w.car_service.translations[o.Ay.language].name})]}),(0,t.jsxs)("div",{className:"list",children:[(0,t.jsx)("div",{className:"title",children:e("tarif")}),(0,t.jsx)("div",{className:"value",children:w.car_category.translations[o.Ay.language].name})]}),(0,t.jsxs)("div",{className:"list",children:[(0,t.jsx)("div",{className:"title",children:e("payment_type")}),(0,t.jsxs)("div",{className:"value",children:[(0,t.jsx)("img",{src:"./images/money.webp",alt:"money",loading:"lazy"}),"cash"===w.payment_type&&"Naqt","card"===w.payment_type&&"Karta orqali"]})]}),(0,t.jsxs)("div",{className:"list",children:[(0,t.jsx)("div",{className:"title",children:e("order_id")}),(0,t.jsx)("div",{className:"value",children:w.id})]}),(0,t.jsxs)("div",{className:"list",children:[(0,t.jsx)("div",{className:"title",children:e("date_time")}),(0,t.jsx)("div",{className:"value",children:w.end_date?w.end_date:w.pick_up_date})]})]}),(0,t.jsxs)("div",{className:"bottom-info",children:[(0,t.jsxs)("div",{className:"list",children:[(0,t.jsx)("div",{className:"title",children:e("passangers_count")}),(0,t.jsxs)("div",{className:"value",children:[(0,t.jsx)("img",{src:"./images/users.webp",alt:"users",loading:"lazy"}),w.passanger_count]})]}),(0,t.jsxs)("div",{className:"list",children:[(0,t.jsx)("div",{className:"title",children:e("price")}),(0,t.jsxs)("div",{className:"value price",children:[w.price," ",e("sum")]})]})]}),(0,t.jsxs)("div",{className:"del-btn",children:[(0,t.jsx)("img",{src:"./images/trash.webp",alt:"del",loading:"lazy"}),e("del_info")]})]})]})})}),(0,t.jsx)("div",{className:"top-side",children:(0,t.jsx)(v,{})}),(0,t.jsxs)("div",{className:"bottom-side",children:[(0,t.jsxs)(g.u6,{zoom:11,center:p,options:I,mapContainerClassName:"map",children:[p&&(0,t.jsx)(g.X0,{position:p,icon:{url:"./images/address.png",scaledSize:{width:40,height:50}}}),a.latitude&&a.longitude&&(0,t.jsx)(g.X0,{position:{lat:a.latitude,lng:a.longitude},icon:{url:"./images/driver-icon.png",scaledSize:{width:60,height:60}}})]}),(0,t.jsx)(S,{}),(0,t.jsxs)("div",{className:"app-box",children:[(0,t.jsxs)("div",{className:"top-side-app",children:[(0,t.jsxs)("a",{target:"_blank",href:"https://apps.apple.com/us/app/adataxi/id6744370881",className:"button",children:[(0,t.jsx)("div",{className:"left",children:(0,t.jsx)("img",{src:"./images/apple.webp",alt:"apple",loading:"lazy"})}),(0,t.jsxs)("div",{className:"right",children:[(0,t.jsx)("div",{className:"top-text",children:"Download on the"}),(0,t.jsx)("b",{children:"App store"})]})]}),(0,t.jsxs)("a",{target:"_blank",href:"https://play.google.com/store/apps/details?id=uz.adataxi.client",className:"button",children:[(0,t.jsx)("div",{className:"left",children:(0,t.jsx)("img",{src:"./images/google.webp",alt:"google",loading:"lazy"})}),(0,t.jsxs)("div",{className:"right",children:[(0,t.jsx)("div",{className:"top-text",children:"GET IT ON"}),(0,t.jsx)("b",{children:"Google Play"})]})]})]}),(0,t.jsx)("div",{className:"bottom-side-app",children:(0,t.jsxs)("a",{target:"_blank",href:"https://adataxi.uz/offer-app",children:["\xa9 2025 \u041e\u041e\u041e \xabADA TAXI\xbb",e("offer")]})})]}),(0,t.jsx)("div",{className:"text-warning",children:e("map_warning")})]})]}),(0,t.jsxs)("div",{className:"mobil-device",children:[(0,t.jsx)("div",{className:"logo",children:(0,t.jsx)("img",{src:"./images/logo3.webp",alt:"logo"})}),(0,t.jsxs)("div",{className:"des",children:['"Mijoz Ada Taxi" platformasini',(0,t.jsx)("span",{children:" PLANSHET "}),"va",(0,t.jsx)("span",{children:" MOBIL TELEFON "}),"qurilmalari orqali foydalasnish uchun App store, Play marketdan yuklab olishingiz mumkin!"]}),(0,t.jsxs)("div",{className:"app-box",children:[(0,t.jsxs)("div",{className:"top-side-app",children:[(0,t.jsxs)("a",{target:"_blank",href:"https://apps.apple.com/us/app/adataxi/id6744370881",className:"button",children:[(0,t.jsx)("div",{className:"left",children:(0,t.jsx)("img",{src:"./images/apple.webp",alt:"apple",loading:"lazy"})}),(0,t.jsxs)("div",{className:"right",children:[(0,t.jsx)("div",{className:"top-text",children:"Download on the"}),(0,t.jsx)("b",{children:"App store"})]})]}),(0,t.jsxs)("a",{target:"_blank",href:"https://play.google.com/store/apps/details?id=uz.adataxi.client",className:"button",children:[(0,t.jsx)("div",{className:"left",children:(0,t.jsx)("img",{src:"./images/google.webp",alt:"google",loading:"lazy"})}),(0,t.jsxs)("div",{className:"right",children:[(0,t.jsx)("div",{className:"top-text",children:"GET IT ON"}),(0,t.jsx)("b",{children:"Google Play"})]})]})]}),(0,t.jsx)("div",{className:"bottom-side-app",children:(0,t.jsxs)("a",{target:"_blank",href:"https://adataxi.uz/offer-app",children:["\xa9 2025 \u041e\u041e\u041e \xabADA TAXI\xbb",e("offer")]})})]})]})]}):(0,t.jsx)(j.A,{})},F=()=>{const{t:e}=(0,n.Bd)(),s=(0,m.d4)((e=>e.baseUrl.data)),a=(0,c.Zp)(),i=(0,m.wA)(),[d,r]=(0,l.useState)({});(0,l.useEffect)((()=>{localStorage.getItem("token")&&x.A.get("".concat(s,"/api/v1/client/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{r(e.data)})).catch((e=>{401==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("userId"),o("log-in"))}))}),[]);const o=e=>{i((0,h.Ui)({show:!0,status:e}))};return(0,t.jsxs)("div",{className:"profile-wrapper",children:[(0,t.jsx)("div",{className:"top-side",children:(0,t.jsx)(v,{})}),(0,t.jsx)("div",{className:"bottom-side",children:(0,t.jsxs)("div",{className:"information-profile",children:[(0,t.jsx)("div",{className:"photo-client",children:d.profile_image?(0,t.jsx)("img",{src:d.profile_image,alt:"photo",loading:"lazy"}):(0,t.jsx)("img",{src:"./images/user.webp",alt:"person",loading:"lazy"})}),(0,t.jsxs)("div",{className:"name",children:[d.first_name,"\u2002",d.last_name]}),(0,t.jsxs)("div",{className:"information",children:[(0,t.jsxs)("div",{className:"rate",children:[(0,t.jsx)("div",{className:"label",children:e("rate")}),(0,t.jsxs)("div",{className:"info",children:[(0,t.jsx)("img",{src:"./images/star.webp",alt:"star",loading:"lazy"}),d.rate]})]}),(0,t.jsx)("div",{className:"line"}),(0,t.jsxs)("div",{className:"count",children:[(0,t.jsx)("div",{className:"label",children:e("orders_finishet")}),(0,t.jsx)("div",{className:"info",children:d.finished_orders_count})]})]}),(0,t.jsx)("div",{className:"contacts",children:(0,t.jsxs)("div",{className:"item",children:[(0,t.jsx)("div",{className:"label",children:e("my_phone")}),(0,t.jsx)("div",{className:"info",children:d.phone})]})}),(0,t.jsxs)("div",{className:"buttons",children:[(0,t.jsxs)("div",{onClick:()=>a("/edit-profile"),className:"item",children:[(0,t.jsx)("img",{src:"./images/edit.webp",alt:"edit",loading:"lazy"}),e("edit")]}),(0,t.jsx)("div",{className:"line"}),(0,t.jsxs)("div",{onClick:()=>o("log-out"),className:"item",children:[(0,t.jsx)("img",{src:"./images/log-out-user.webp",alt:"log-out",loading:"lazy"}),e("logOut")]})]})]})})]})},T=()=>{const{t:e}=(0,n.Bd)(),s=(0,m.d4)((e=>e.baseUrl.data)),a=(0,c.Zp)(),i=(0,m.wA)(),[d,r]=(0,l.useState)(null),[o,g]=(0,l.useState)(null),[j,p]=(0,l.useState)(""),[u,N]=(0,l.useState)(""),[f,b]=(0,l.useState)("male");(0,l.useEffect)((()=>{localStorage.getItem("token")&&x.A.get("".concat(s,"/api/v1/client/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{p(e.data.first_name),N(e.data.last_name),b(e.data.gender),g(e.data.profile_image)})).catch((e=>{401==e.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("userId"),_("log-in"))}))}),[]);const _=e=>{i((0,h.Ui)({show:!0,status:e}))};return(0,t.jsxs)("div",{className:"edit-profile-wrapper",children:[(0,t.jsx)("div",{className:"top-side",children:(0,t.jsx)(v,{})}),(0,t.jsx)("div",{className:"bottom-side",children:(0,t.jsxs)("div",{className:"information-profile",children:[(0,t.jsx)("div",{className:"photo-client",children:(0,t.jsx)("img",{src:o||"./images/camera.webp",alt:"photo",loading:"lazy"})}),(0,t.jsxs)("div",{className:"choose-img",children:[(0,t.jsx)("div",{className:"text",children:e(d?"edit":"add_photo")}),(0,t.jsx)("input",{onChange:e=>{const s=e.target.files[0];s&&(r(s),g(URL.createObjectURL(s)))},type:"file"})]}),(0,t.jsxs)("div",{className:"input-box",children:[(0,t.jsx)("div",{className:"label",children:e("first_name")}),(0,t.jsx)("input",{value:j,onChange:e=>p(e.target.value),type:"text"})]}),(0,t.jsxs)("div",{className:"input-box",children:[(0,t.jsx)("div",{className:"label",children:e("last_name")}),(0,t.jsx)("input",{value:u,onChange:e=>N(e.target.value),type:"text"})]}),(0,t.jsx)("div",{className:"label",children:e("gender")}),(0,t.jsxs)("div",{className:"on-of",children:[(0,t.jsx)("div",{onClick:()=>b("male"),className:"of ".concat("male"===f?"on":""),children:e("male")}),(0,t.jsx)("div",{onClick:()=>b("female"),className:"of ".concat("female"===f?"on":""),children:e("female")})]}),(0,t.jsxs)("div",{className:"buttons",children:[(0,t.jsx)("div",{onClick:()=>a("/profile"),className:"cancel-btn",children:e("cancel_order")}),(0,t.jsx)("div",{onClick:()=>{let a={first_name:j,last_name:u,gender:f},l=new FormData;for(let e in a)l.append(e,a[e]);d&&l.append("profile_image",d),x.A.post("".concat(s,"/api/v1/client/"),l,{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((s=>{let a=Date.now(),l={id:a,text:e("save_info"),img:"./images/green.svg",color:"#FFFAEA"};i((0,w.Iw)(l)),setTimeout((()=>{i((0,w.ae)(a))}),5e3)}))},className:"save-btn",children:e("save_information")})]})]})})]})},E=[{path:"/",element:(0,t.jsx)(I,{})},{path:"/profile",element:(0,t.jsx)(F,{})},{path:"/edit-profile",element:(0,t.jsx)(T,{})}];var D=a(4886),B=a(771);var U=a(2075);a(7799);const L=()=>{let e=(0,l.useContext)(Z);const{t:s}=(0,n.Bd)(),a=(0,l.useRef)(null),i=(0,m.d4)((e=>e.baseUrl.data)),c=(0,m.wA)(),d=(0,m.d4)((e=>e.ModalContent.data)),r=(0,m.d4)((e=>e.PaymentType.data)),[v,g]=(0,l.useState)(""),[j,p]=(0,l.useState)(""),[u,N]=(0,l.useState)(!1),[b,_]=(0,l.useState)(0),[y,k]=(0,l.useState)(60),[A,S]=(0,l.useState)(0),[C,I]=(0,l.useState)([]),[F,T]=(0,l.useState)(""),[E,L]=(0,l.useState)("");(0,l.useEffect)((()=>{const e=setInterval((()=>{y>0&&k(y-1),0===y&&(0===b?clearInterval(e):(k(60),_(b-1)))}),1e3);return()=>{clearInterval(e)}}),[u?y:null]),(0,l.useEffect)((()=>{localStorage.getItem("token")&&x.A.get("".concat(i,"/api/v1/reject-reason/client/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{I(e.data)}))}),[]);const G=()=>{let e={phone:v,role:"client"};x.A.post("".concat(i,"/api/v1/auth/verify_number/"),e).then((e=>{localStorage.setItem("userId",e.data.user_id),N((e=>!0)),c((0,h.Ui)({show:!0,status:"log-in-code"})),u&&(_(0),k(59))})).catch((e=>{if(400===e.response.status&&-10===e.response.data.code){let e=Date.now(),a={id:e,text:s("error_phone"),img:"./images/yellow.svg",color:"#FFFAEA"};c((0,w.Iw)(a)),setTimeout((()=>{c((0,w.ae)(e))}),5e3)}}))},O=()=>{x.A.post("".concat(i,"/api/v1/auth/verify_code/"),{user:localStorage.getItem("userId"),code:j,role:"client"}).then((e=>{localStorage.setItem("token",e.data.token),c((0,h.AS)({show:!1})),window.location.pathname="/edit-profile";let a=Date.now(),i={id:a,text:s("register"),img:"./images/green.svg",color:"#FFFAEA"};c((0,w.Iw)(i)),setTimeout((()=>{c((0,w.ae)(a))}),5e3)})).catch((e=>{if(400===e.response.status&&-12===e.response.data.code){let e=Date.now(),a={id:e,text:s("error_code"),img:"./images/red.svg",color:"#FFFAEA"};c((0,w.Iw)(a)),setTimeout((()=>{c((0,w.ae)(e))}),5e3)}}))},P=e=>{let s={payment_type:e};c((0,U.X$)(s))};var R,M;return R=u?O:G,M="Enter",(0,l.useEffect)((()=>{const e=e=>{e.key===M&&R()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[R,M]),(0,t.jsx)(z.A,{in:d.show&&"orders"!==d.status,nodeRef:a,timeout:300,classNames:"alert",unmountOnExit:!0,children:(0,t.jsx)("div",{className:"modal-sloy",children:(0,t.jsxs)("div",{ref:a,className:"modal-card",children:["log-out"===d.status&&(0,t.jsxs)("div",{className:"confirm",children:[(0,t.jsx)("div",{className:"toptext",children:s("log_out_text1")}),(0,t.jsxs)("div",{className:"btns",children:[(0,t.jsx)("button",{className:"not-out",onClick:()=>c((0,h.AS)({show:!1})),children:s("log_out_text2")}),(0,t.jsx)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("userId"),window.location.reload(),window.location.pathname="/"},children:s("log_out_text3")})]})]}),"log-in"===d.status&&(0,t.jsxs)("div",{className:"login-box",children:[(0,t.jsx)("div",{className:"logo",children:(0,t.jsx)("img",{src:"./images/logo2.webp",alt:""})}),(0,t.jsx)("h1",{className:"title",children:s("login_text")}),(0,t.jsx)("p",{className:"des",children:s("login_des")}),(0,t.jsx)("div",{className:"label",children:s("login_phone")}),(0,t.jsx)(D.Ay,{id:"phone",international:!0,defaultCountry:"UZ",value:v,onChange:g}),(0,t.jsx)("button",{onClick:G,disabled:""===v||void 0===v,className:"next-btn ".concat(""===v||void 0===v?"disabled":""),children:s("next")})]}),"log-in-code"===d.status&&(0,t.jsxs)("div",{className:"login-box",children:[(0,t.jsx)("h1",{className:"title",children:s("enter_code")}),(0,t.jsx)("p",{className:"des",children:s("enter_code2")}),(0,t.jsxs)("div",{className:"phone-number",children:[v," ",(0,t.jsx)("img",{onClick:()=>{c((0,h.Ui)({show:!0,status:"log-in"})),N(!1)},src:"./images/pencil.webp",alt:"edit-phone",loading:"lazy"})]}),(0,t.jsx)("div",{className:"inputs-verify-code",children:(0,t.jsx)(B.A,{allowedCharacters:"numeric",length:"5",onChange:e=>{p(e)}})}),u&&y>0||b>0?(0,t.jsx)("div",{className:"coundown",children:(0,t.jsxs)("div",{className:"count",children:[(0,t.jsx)("img",{src:"./images/time.png",alt:""}),b<10?"0".concat(b):b,":",y<10?"0".concat(y):y]})}):(0,t.jsx)("div",{onClick:G,className:"code-ref",children:s("enter_code3")}),(0,t.jsx)("button",{disabled:j.trim().length<5,onClick:O,className:" next-btn ".concat(j.trim().length<5?"disabled":""),children:s("login")})]}),"download-app"===d.status&&(0,t.jsxs)("div",{className:"download-app",children:[(0,t.jsx)("div",{className:"cancel-btn",children:(0,t.jsx)("img",{onClick:()=>{c((0,h.AS)({show:!1}))},src:"./images/cancel.webp",alt:"cancel"})}),(0,t.jsx)("div",{className:"logo",children:(0,t.jsx)("img",{src:"./images/logo2.webp",alt:""})}),(0,t.jsx)("h1",{className:"title",children:s("title_apps")}),(0,t.jsxs)("div",{className:"top-side-app",children:[(0,t.jsxs)("a",{target:"_blank",href:"https://apps.apple.com/us/app/adataxi/id6744370881",className:"button",children:[(0,t.jsx)("div",{className:"left",children:(0,t.jsx)("img",{src:"./images/apple.webp",alt:"apple",loading:"lazy"})}),(0,t.jsxs)("div",{className:"right",children:[(0,t.jsx)("div",{className:"top-text",children:"Download on the"}),(0,t.jsx)("b",{children:"App store"})]})]}),(0,t.jsxs)("a",{target:"_blank",href:"https://play.google.com/store/apps/details?id=uz.adataxi.client",className:"button",children:[(0,t.jsx)("div",{className:"left",children:(0,t.jsx)("img",{src:"./images/google.webp",alt:"google",loading:"lazy"})}),(0,t.jsxs)("div",{className:"right",children:[(0,t.jsx)("div",{className:"top-text",children:"GET IT ON"}),(0,t.jsx)("b",{children:"Google Play"})]})]})]})]}),"about-app"===d.status&&(0,t.jsxs)("div",{className:"about-app",children:[(0,t.jsx)("div",{className:"cancel-btn",children:(0,t.jsx)("img",{onClick:()=>{c((0,h.AS)({show:!1}))},src:"./images/cancel.webp",alt:"cancel"})}),(0,t.jsx)("h1",{className:"title",children:s("app_links")}),(0,t.jsx)("div",{className:"logo-card",children:(0,t.jsx)("div",{className:"logo",children:(0,t.jsx)("img",{src:"./images/logo3.webp",alt:""})})}),(0,t.jsx)("a",{href:"tel:+998915444499",children:(0,t.jsxs)("div",{className:"item line",children:[(0,t.jsxs)("div",{className:"left",children:[(0,t.jsx)("div",{className:"icon",children:(0,t.jsx)("img",{src:"./images/phone.webp",alt:"phone",loading:"lazy"})}),(0,t.jsx)("div",{className:"name",children:"+998 91 544 44 99"})]}),(0,t.jsx)("div",{className:"icon-more",children:(0,t.jsx)("img",{src:"./images/more.webp",alt:"more",loading:"lazy"})})]})}),(0,t.jsx)("a",{target:"_blank",href:"https://t.me/adataxi_admin",children:(0,t.jsxs)("div",{className:"item",children:[(0,t.jsxs)("div",{className:"left",children:[(0,t.jsx)("div",{className:"icon",children:(0,t.jsx)("img",{src:"./images/sms.webp",alt:"phone",loading:"lazy"})}),(0,t.jsx)("div",{className:"name",children:s("send-message")})]}),(0,t.jsx)("div",{className:"icon-more",children:(0,t.jsx)("img",{src:"./images/more.webp",alt:"more",loading:"lazy"})})]})}),(0,t.jsxs)("div",{className:"social-media",children:[(0,t.jsxs)("div",{className:"media",children:[(0,t.jsx)("a",{target:"_blank",href:"https://www.instagram.com/adataxi_uz/",children:(0,t.jsx)("img",{src:"./images/instagram.png",alt:"instagram",loading:"lazy"})}),(0,t.jsx)("div",{className:"name",children:"Facebook"})]}),(0,t.jsxs)("div",{className:"media",children:[(0,t.jsx)("a",{target:"_blank",href:"https://t.me/+Ruz2cjoeIC4xNTU6",children:(0,t.jsx)("img",{src:"./images/telegram.webp",alt:"yotube",loading:"lazy"})}),(0,t.jsx)("div",{className:"name",children:"Telegram"})]}),(0,t.jsxs)("div",{className:"media",children:[(0,t.jsx)("a",{target:"_blank",href:"https://www.youtube.com/@AdaTaxi",children:(0,t.jsx)("img",{src:"./images/youtube.webp",alt:"yotube",loading:"lazy"})}),(0,t.jsx)("div",{className:"name",children:"Youtube"})]})]}),(0,t.jsx)("div",{className:"web-sayt",children:(0,t.jsx)("a",{target:"_blank",href:"https://adataxi.uz/",children:"\xa9 2024 adataxi.uz"})})]}),"payment-type"===d.status&&(0,t.jsxs)("div",{className:"payment-type",children:[(0,t.jsx)("div",{className:"header",children:(0,t.jsx)("h1",{className:"title",children:"To'lov turini tanlang"})}),(0,t.jsxs)("div",{className:"radio-buttons",children:[(0,t.jsxs)("label",{className:"label-payment",children:[(0,t.jsxs)("div",{className:"left",children:[(0,t.jsx)("img",{src:"./images/card.webp",alt:"card",loading:"lazy"}),(0,t.jsx)("span",{children:s("cash")})]}),(0,t.jsx)("input",{type:"radio",value:"cash",checked:"cash"===r.payment_type,onChange:e=>P(e.target.value),className:"w-4 h-4"})]}),(0,t.jsxs)("label",{className:"label-payment",children:[(0,t.jsxs)("div",{className:"left",children:[(0,t.jsx)("img",{src:"./images/card.webp",alt:"card",loading:"lazy"}),(0,t.jsx)("span",{children:s("card")})]}),(0,t.jsx)("input",{type:"radio",value:"card",checked:"card"===r.payment_type,onChange:e=>P(e.target.value),className:"w-4 h-4"})]})]}),(0,t.jsx)("div",{onClick:()=>{c((0,h.AS)({show:!1}))},className:"send-btn",children:s("success")})]}),"add-other"===d.status&&(0,t.jsxs)("div",{className:"add-other",children:[(0,t.jsxs)("div",{className:"header",children:[(0,t.jsx)("h1",{className:"title",children:s("other-order")}),(0,t.jsx)("div",{className:"cancel-btn",children:(0,t.jsx)("img",{onClick:()=>{c((0,h.AS)({show:!1}))},src:"./images/cancel.webp",alt:"cancel"})})]}),(0,t.jsxs)("div",{className:"form-box",children:[(0,t.jsx)("label",{htmlFor:"phone",children:s("phone")}),(0,t.jsx)("input",{value:F,onChange:e=>T(e.target.value),id:"phone",placeholder:s("phone_form"),type:"number"})]}),(0,t.jsxs)("div",{className:"form-box",children:[(0,t.jsx)("label",{htmlFor:"name",children:s("name")}),(0,t.jsx)("input",{value:E,onChange:e=>L(e.target.value),id:"name",placeholder:s("name_add"),type:"text"})]}),(0,t.jsx)("button",{onClick:()=>{let e={name:E,phone:F};c((0,f.L)(e)),c((0,h.AS)({show:!1}))},disabled:!(F.trim().length>0&&E.trim().length>0),className:"send-btn ".concat(F.trim().length>0&&E.trim().length>0?"":"btn-disablet"),children:s("success")})]}),"cancel-order"===d.status&&(0,t.jsxs)("div",{className:"cancel-order",children:[(0,t.jsxs)("div",{className:"header",children:[(0,t.jsx)("h1",{className:"title",children:s("reason_cancel")}),(0,t.jsx)("div",{className:"cancel-btn",children:(0,t.jsx)("img",{onClick:()=>{c((0,h.AS)({show:!1}))},src:"./images/cancel.webp",alt:"cancel"})})]}),(0,t.jsx)("div",{className:"radio-buttons",children:C.map(((e,s)=>(0,t.jsxs)("label",{className:"label-payment",children:[(0,t.jsx)("span",{children:e.translations[o.Ay.language].name}),(0,t.jsx)("input",{type:"radio",value:e.id,checked:A===e.id,onChange:()=>{S(e.id)}})]},e.id)))}),(0,t.jsx)("div",{onClick:()=>{let a={command:"reject_order",order_id:d.id,reason_id:A};if(e)e.send(JSON.stringify(a));else{let e={id:Date.now(),text:s("net"),img:"./images/red.svg",color:"#FFEDF1"};c((0,w.Iw)(e))}},className:"send-btn",children:s("success")})]})]})})})},G=()=>{const e=(0,m.wA)(),s=(0,m.d4)((e=>e.Alerts.data));return(0,t.jsx)("div",{className:"alerts-container",children:s.length>0&&(0,t.jsx)("div",{className:"alerts-box ".concat(s.length>3?"alerts-box-hide":""),children:s.map(((s,a)=>(0,t.jsxs)("div",{style:{borderTop:"4px solid ".concat("#EDFFFA"===s.color?"#5b9f68":"#dd495f"),background:s.color},className:"alert",children:[(0,t.jsx)("div",{className:"left-side",children:(0,t.jsx)("img",{src:s.img,alt:""})}),(0,t.jsx)("div",{className:"right-side",children:s.text}),(0,t.jsx)("div",{className:"xbtn",children:(0,t.jsx)("img",{onClick:()=>{return a=s.id,void e((0,w.ae)(a));var a},src:"./images/x-button.png",alt:""})})]},a)))})})};var O=a(7305);var P=a(3687);const R=["places"],M=()=>{const{t:e}=(0,n.Bd)(),s=(0,l.useRef)(null),a=(0,m.wA)(),i=(0,m.d4)((e=>e.GetLocations.data)),c=(0,m.d4)((e=>e.PickUpLocations.data)),d=(0,m.d4)((e=>e.DropOffLocations.data)),[r,h]=(0,l.useState)(null),[v,p]=(0,l.useState)(""),[f,_]=(0,l.useState)(null);(0,l.useEffect)((()=>{if(navigator.geolocation.getCurrentPosition((e=>{const{latitude:s,longitude:a}=e.coords;h({lat:s,lng:a})})),"pick_up"===i.location_status)if(c[i.location_num].address){let e={lat:c[i.location_num].latitude,lng:c[i.location_num].longitude};h(e),_(e),p(c[i.location_num].address)}else navigator.geolocation.getCurrentPosition((e=>{const{latitude:s,longitude:a}=e.coords;h({lat:s,lng:a})}));if("drop_off"===i.location_status)if(d[i.location_num].address){let e={lat:d[i.location_num].latitude,lng:d[i.location_num].longitude};h(e),_(e),p(d[i.location_num].address)}else navigator.geolocation.getCurrentPosition((e=>{const{latitude:s,longitude:a}=e.coords;h({lat:s,lng:a})}))}),[!0===i.show]);const y=s=>{let{setSelected:l}=s;const{ready:c,value:n,setValue:d,suggestions:{status:r,data:m},clearSuggestions:v}=(0,P.Ay)({requestOptions:{language:o.Ay.language}});return(0,t.jsxs)(O.G3,{onSelect:async s=>{const c=await(0,P.fx)({address:s}),{lat:n,lng:t}=await(0,P.rg)(c[0]);let r={lat:n,lng:t};const m="https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(n,"&lon=").concat(t,"&lan=en");x.A.get("".concat(m),{headers:{"Accept-Language":o.Ay.language}}).then((c=>{let o=c.data.address.city,m=c.data.address.suburb,x=c.data.address.neighbourhood,g=c.data.address.county,j=c.data.address.road,u="".concat(o?o+",":""," ").concat(m?m+",":""," \n            ").concat(x?x+",":""," ").concat(g?g+",":""," ").concat(j||"");if("uz"===c.data.address.country_code)("pick_up"===i.location_status||"drop_off"===i.location_status)&&(p(u),l(r),h({lat:n,lng:t}),d(s,!1),v());else{let s=Date.now(),i={id:s,text:e("errorLocations"),img:"./images/red.svg",color:"#FFEDF1"};a((0,w.Iw)(i)),setTimeout((()=>{a((0,w.ae)(s))}),5e3)}}))},children:[(0,t.jsx)(O.oK,{value:n,onChange:e=>d(e.target.value),disabled:!c,className:"combobox-input",placeholder:e("input1")}),(0,t.jsx)("div",{className:"address-wrapper",children:(0,t.jsx)("div",{className:"list-address",children:"OK"===r&&m.map((e=>{let{place_id:s,description:a}=e;return(0,t.jsx)(O.jO,{value:a},s)}))})})]})},{isLoaded:k}=(0,g.RH)({googleMapsApiKey:"AIzaSyBEN2azIRg6YCHa-tV8yAEUJoHsn__fRBM",libraries:R,language:o.Ay.language}),A=(0,l.useMemo)((()=>({disableDefaultUI:!1,clickableIcons:!1})),[]);return k?(0,t.jsx)(z.A,{in:i.show,nodeRef:s,timeout:300,classNames:"alert",unmountOnExit:!0,children:(0,t.jsx)("div",{className:"modal-sloy",children:(0,t.jsx)("div",{ref:s,className:"modal-card",children:(0,t.jsxs)("div",{className:"add-location",children:[(0,t.jsxs)("div",{className:"header",children:[(0,t.jsx)("h1",{className:"title",children:e("choose_location")}),(0,t.jsx)("div",{className:"cancel-btn",children:(0,t.jsx)("img",{onClick:()=>{a((0,b.xi)({show:!1}))},src:"./images/cancel.webp",alt:"cancel"})})]}),(0,t.jsx)("div",{className:"map-box",children:(0,t.jsxs)(g.u6,{zoom:10,center:r,options:A,onClick:s=>{let l=s.latLng.lat(),c=s.latLng.lng(),n={lat:l,lng:c};const t="https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(l,"&lon=").concat(c,"&lan=en");x.A.get("".concat(t),{headers:{"Accept-Language":o.Ay.language}}).then((s=>{let l=s.data.address.city,c=s.data.address.suburb,t=s.data.address.neighbourhood,d=s.data.address.county,r=s.data.address.road,o="".concat(l?l+",":""," ").concat(c?c+",":""," \n            ").concat(t?t+",":""," ").concat(d?d+",":""," ").concat(r||"");if("uz"===s.data.address.country_code)("pick_up"===i.location_status||"drop_off"===i.location_status)&&(p(o),_(n));else{let s=Date.now(),i={id:s,text:e("errorLocations"),img:"./images/red.svg",color:"#FFEDF1"};a((0,w.Iw)(i)),setTimeout((()=>{a((0,w.ae)(s))}),5e3)}}))},mapContainerClassName:"map",children:[f&&(0,t.jsx)(g.pH,{icon:{url:"./images/address.png",scaledSize:{width:40,height:50}},position:f}),(0,t.jsx)("div",{className:"search-address",children:(0,t.jsxs)("div",{className:"places-container",children:[(0,t.jsx)(y,{setSelected:_}),(0,t.jsx)("img",{src:"./images/search.png",alt:""})]})})]})}),(0,t.jsx)("div",{onClick:()=>{if("pick_up"===i.location_status)if(v&&f)a((0,u.ST)({index:Number(i.location_num),newData:{address:v,latitude:Number(f.lat.toString().slice(0,9)),longitude:Number(f.lng.toString().slice(0,9))}})),a((0,b.xi)({show:!1})),_(null),p("");else{let s=Date.now(),i={id:s,text:e("alert7"),img:"./images/yellow.svg",color:"#FFFAEA"};a((0,w.Iw)(i)),setTimeout((()=>{a((0,w.ae)(s))}),5e3)}if("drop_off"===i.location_status)if(v&&f)a((0,N.vS)({index:Number(i.location_num),newData:{address:v,latitude:Number(f.lat.toString().slice(0,9)),longitude:Number(f.lng.toString().slice(0,9))}})),a((0,b.xi)({show:!1})),_(null),p("");else{let s=Date.now(),i={id:s,text:e("alert7"),img:"./images/yellow.svg",color:"#FFFAEA"};a((0,w.Iw)(i)),setTimeout((()=>{a((0,w.ae)(s))}),5e3)}},className:"send-btn",children:e("success")})]})})})}):(0,t.jsx)(j.A,{})};var q=a(5063),H=a(5052);const Z=(0,l.createContext)(),K=()=>{const e=(0,m.d4)((e=>e.baseUrl.data)),{t:s}=(0,n.Bd)(),a=(0,m.wA)(),[r,o]=(0,l.useState)(null);function v(){new Audio(k).play()}(0,l.useEffect)((()=>{if(!localStorage.getItem("token"))return()=>{};const e=new q.w3cwebsocket("wss://api.adataxi.uz/ws/client/?token=".concat(localStorage.getItem("token")));o(e);Date.now()}),[]),(0,l.useEffect)((()=>{o((e=>e?(e.onmessage=e=>{const i=JSON.parse(e.data);if(i.action){if("order_accepted"===i.action){let e=Date.now(),i={id:e,text:s("order_accepted"),img:"./images/green.svg",color:"#EDFFFA"};a((0,w.Iw)(i)),setTimeout((()=>{a((0,w.ae)(e))}),5e3),g(),v()}if("arrived"===i.action){let e=Date.now(),i={id:e,text:s("arrived"),img:"./images/green.svg",color:"#EDFFFA"};a((0,w.Iw)(i)),setTimeout((()=>{a((0,w.ae)(e))}),5e3),v()}if("order_started"===i.action){let e=Date.now(),i={id:e,text:s("order_started"),img:"./images/green.svg",color:"#EDFFFA"};a((0,w.Iw)(i)),setTimeout((()=>{a((0,w.ae)(e))}),5e3),v(),a((0,y.BG)(5))}if("trip_started"===i.action){let e=Date.now(),i={id:e,text:s("trip_started"),img:"./images/green.svg",color:"#EDFFFA"};a((0,w.Iw)(i)),setTimeout((()=>{a((0,w.ae)(e))}),5e3),v()}if("order_finished"===i.action){a((0,y.BG)(0)),a((0,H.Uc)({}));let e=Date.now(),i={id:e,text:s("order_finished"),img:"./images/green.svg",color:"#EDFFFA"};a((0,w.Iw)(i)),setTimeout((()=>{a((0,w.ae)(e))}),5e3),v()}if("reject_order"===i.action){a((0,y.BG)(0));let e=Date.now(),i={id:e,text:s("alert_cancel"),img:"./images/green.svg",color:"#EDFFFA"};a((0,w.Iw)(i)),setTimeout((()=>{a((0,w.ae)(e))}),5e3),a((0,h.AS)({show:!1})),v()}"driver_location"===i.action&&a((0,H.Uc)(i.message))}-35==i.message.code&&(window.location.pathname="/",localStorage.removeItem("token"),localStorage.removeItem("userId"))},e):null))}),[r]);const g=()=>{localStorage.getItem("token")&&x.A.get("".concat(e,"/api/v1/client-active-orders/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((e=>{a((0,_.r$)(e.data[0])),e.data.length>0&&(e.data[0].driver?"started"===e.data[0].status?a((0,y.BG)(5)):a((0,y.BG)(4)):a((0,y.BG)(3)))}))};return(0,t.jsxs)(Z.Provider,{value:r,children:[(0,t.jsx)(L,{}),(0,t.jsx)(G,{}),(0,t.jsx)(M,{}),(0,t.jsxs)(c.BV,{children:[E.map(((e,s)=>(0,t.jsx)(c.qh,(0,i.A)({},e),s))),(0,t.jsx)(c.qh,{path:"*",element:(0,t.jsx)(d,{})})]})]})}}}]);
//# sourceMappingURL=183.585fdb9c.chunk.js.map